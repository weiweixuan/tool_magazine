<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      h1 {
        color: red;
      }
    </style>
  </head>

  <body>
    <h1 id="hh"></h1>
    <script type="module">
      // 必须在服务器环境打开 ，否则报错 Access to script at 'file:///C:/xampp/htdocs/git_tools/git_tools/tools/backtime.js' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.
      import timer from '../tools/backtime.js'
      console.dir(timer)
      // 到2019/5/1号的倒计时
      let end_time = new Date('2019/5/1 0:00:00').getTime()
      // 当前日期
      let now = new Date().getTime()
      // 时间差
      let time_diff = end_time - now
      let time_stp = new timer.backTime(
        time_diff,
        function(dd, hh, mm, ss) {
          // 过程中
          console.log(dd, hh, mm, ss)
          document.querySelector(
            '#hh'
          ).innerHTML = `距离2019年5月1号还有${dd}天${hh}时${mm}分${ss}秒`
        },
        function() {
          // 结束了
          console.log('结束了')
          document.querySelector(
            '#hh'
          ).innerHTML = `已经超过2019年5月1号，倒计时结束！`
        }
      )
      // 倒计时开始,必须调用该方法
      time_stp.timerback()
    </script>
  </body>
</html>
