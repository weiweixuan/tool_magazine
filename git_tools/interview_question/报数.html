<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        //报数序列是一个整数序列，按照其中的整数的顺序进行报数，得到下一个数。其前五项如下：

        // 1.     1
        // 2.     11
        // 3.     21
        // 4.     1211
        // 5.     111221
        // 1 被读作  "one 1"  ("一个一") , 即 11。
        // 11 被读作 "two 1s" ("两个一"）, 即 21。
        // 21 被读作 "one 2",  "one 1" （"一个二" ,  "一个一") , 即 1211。

        // 给定一个正整数 n（1 ≤ n ≤ 30），输出报数序列的第 n 项。

        // 注意：整数顺序将表示为一个字符串。
        function fun(val){
                val = new String(val);
                let current = val[0];
                let arr = [];
                let count = 0;
                for(item of val){
                    if(item==current){
                        count++;
                    }else{
                        arr.push({[current]:count});
                        current = item;
                        count = 1;
                    }
                }
                arr.push({[current]:count});
                let res = "";
                for(item of arr){
                    res+=`${Object.values(item)}${Object.keys(item)}`;
                }
                return res;
            }
        var countAndSay = function (n) {
            var val = '1';
            for(let i=1;i<n;i++){
                val = fun(val);
            }
            return val;
            };
        let result = countAndSay(1);
        console.log(result);
    </script>
</body>

</html>