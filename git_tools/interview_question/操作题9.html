<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /*
          编程题，根据以下要求，写一个数组去重函数（蘑菇街）

      如传入的数组元素为[123, "meili", "123", "mogu", 123]，则输出：[123, "meili", "123", "mogu"]

      如传入的数组元素为[123, [1, 2, 3], [1, "2", 3], [1, 2, 3], "meili"]，则输出：[123, [1, 2, 3], [1, "2", 3], "meili"]

      如传入的数组元素为[123, {a: 1}, {a: {b: 1}}, {a: "1"}, {a: {b: 1}}, "meili"]，则输出：[123, {a: 1}, {a: {b: 1}}, {a: "1"}, "meili"]
      */
      let arr1 = [123, 'meili', '123', 'mogu', 123]
      let arr2 = [123, [1, 2, 3], [1, '2', 3], [1, 2, 3], 'meili']
      let arr3 = [
        123,
        { a: 1 },
        { a: { b: 1 } },
        { a: '1' },
        { a: { b: 1 } },
        'meili'
      ]
      function repeat(arr) {
        if (!Array.isArray(arr)) {
          throw new TypeError('请输入数组···')
        }
        return [...new Set(arr.map(item => JSON.stringify(item)))].map(item =>
          JSON.parse(item)
        )
      }
      let res1 = repeat(arr1)
      let res2 = repeat(arr2)
      let res3 = repeat(arr3)
      console.log(res1) //[123, "meili", "123", "mogu"]
      console.log(res2) //[123, [1, 2, 3], [1, "2", 3], "meili"]
      console.log(res3) //[123, {a: 1}, {a: {b: 1}}, {a: "1"}, "meili"]
    </script>
  </body>
</html>
