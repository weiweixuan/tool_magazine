<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        
        let obj_double = {
            IV:4,
            IX:9,
            XL:40,
            XC:90,
            CD:400,
            CM:900
        }
        let obj_only = {
            I:1,
            V:5,
            X:10,
            L:50,
            C:100,
            D:500,
            M:1000
        }
        var romanToInt = function (s) {
            let res = 0;
            let res_1 = s.replace(/(IV)|(IX)|(XL)|(XC)|(CD)|(CM)/g,function(val){
                for(let key in obj_double){
                    if(key==val){
                        res+=obj_double[key]
                        return ""
                    }
                }
            });
            let res_2 = res_1.replace(/[IVXLCDM]/g,function(val){
                for(let key in obj_only){
                    if(key==val){
                        res+=obj_only[key];
                        return "";
                    }
                }
            });
            return res;
        };
        let str = "MCMXCIV";
        let res = romanToInt(str);
        console.log(res);
    </script>
</body>

</html>