<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /*给定一个非空字符串 s，最多删除一个字符。判断是否能成为回文字符串。

      示例 1:

      输入: "aba"
      输出: True
      示例 2:

      输入: "abca"
      输出: True
      解释: 你可以删除c字符。
      注意:

      字符串只包含从 a-z 的小写字母。字符串的最大长度是50000。
      */
      let str =
        "aguokepatgbnvfqmgmlcupuufxoohdfpgjdmysgvhmvffcnqxjjxqncffvmhvgsymdjgpfdhooxfuupuculmgmqfvnbgtapekouga";
      var validPalindrome = function(s) {
        let flag = 2,
          start = 0,
          end = s.length - 1;
        while (start < end && !!flag) {
          if (s[start] === s[end] && !!flag) {
            start++;
            end--;
          } else {
            console.log("---", start, s[start], end, s[end], flag);
            if (s[start + 1] === s[end]) {
              start++;
            } else if (s[start] === s[end - 1]) {
              end--;
            }
            flag--;
          }
        }

        return !!flag;
      };

      let res = validPalindrome(str);
      console.log(res);
    </script>
  </body>
</html>
