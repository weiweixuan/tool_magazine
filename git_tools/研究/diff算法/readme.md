## diff 算法 整体思路

### 首先 vue 和 react 等框架采用的是 虚拟 dom 来保存真实 dom 的快照，这样在后序数据变动的时候可以直接拿到变更的部分内容，再精准渲染真实 dom

1. 类组件和函数组件写的内容，会被 react.createElement 转化成 虚拟 dom，为一颗 js dom 树对象，保存了 type ，属性 ， children 字段

2. 当页面变动重新渲染前，会对比两颗 新旧 vdom 树，把差异性提交到 patches 的补丁包内 ，然后根据补丁包来修改真实 dom 数据

### 提升

- 现在对于同级的 children 采用的对应下标做对比，如果增删了 list 数据很可能会重新渲染全部子节点，react，vue 采用的是 标记 key 来进行匹配，然后对比差异，这样能精确对比 同级 child ， 同时 vue 采用了双指针 从首位同时来匹配对应的 key，这样能更好的减少 匹配的循环次数，后面我单独把这两部分拆开来研究下。。。 记录 (2020/9/5)
